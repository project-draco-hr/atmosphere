{
  String servletPath="";
  try {
    Map<String,? extends ServletRegistration> m=framework.getServletContext().getServletRegistrations();
    for (    Map.Entry<String,? extends ServletRegistration> e : m.entrySet()) {
      Class<?> classToScan=loadClass(framework.getClass(),e.getValue().getClassName());
      if (scanForAtmosphereFramework(classToScan)) {
        servletPath=e.getValue().getMappings().iterator().next();
        servletPath=getCleanedServletPath(servletPath);
        if (!servletPath.equalsIgnoreCase(exclude)) {
          break;
        }
 else {
          logger.trace("Already guessed {}",exclude);
        }
      }
    }
  }
 catch (  Exception ex) {
    logger.trace("",ex);
  }
  return servletPath;
}
