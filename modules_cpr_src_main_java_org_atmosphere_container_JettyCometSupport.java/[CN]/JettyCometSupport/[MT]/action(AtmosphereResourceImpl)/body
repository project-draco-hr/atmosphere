{
  super.action(r);
  if (r.action().type() == Action.TYPE.RESUME && r.isInScope()) {
    Continuation c=ContinuationSupport.getContinuation(r.getRequest(),null);
    resumed.offer(c);
    if (!c.isNew()) {
      c.resume();
    }
 else {
      r.getRequest().setAttribute(FrameworkConfig.CANCEL_SUSPEND_OPERATION,true);
    }
  }
 else {
    try {
      r.getResponse().flushBuffer();
    }
 catch (    IOException e) {
    }
  }
}
