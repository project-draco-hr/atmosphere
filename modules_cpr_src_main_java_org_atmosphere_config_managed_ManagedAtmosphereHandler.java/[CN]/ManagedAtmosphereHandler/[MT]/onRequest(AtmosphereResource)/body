{
  AtmosphereRequest request=resource.getRequest();
  String method=request.getMethod();
  if (onReadyMethod != null) {
    resource.addEventListener(new AtmosphereResourceEventListenerAdapter(){
      @Override public void onSuspend(      AtmosphereResourceEvent event){
        processReady(event.getResource());
        event.getResource().removeEventListener(this);
      }
    }
);
  }
  if (onResumeMethod != null) {
    resource.addEventListener(new AtmosphereResourceEventListenerAdapter(){
      @Override public void onResume(      AtmosphereResourceEvent event){
        invoke(onResumeMethod,event.getResource());
        resource.removeEventListener(this);
      }
    }
);
  }
  if (method.equalsIgnoreCase("get")) {
    invoke(onGetMethod,resource);
  }
 else   if (method.equalsIgnoreCase("post")) {
    String body=IOUtils.readEntirely(resource).toString();
    resource.getRequest().body(body);
    invoke(onPostMethod,resource);
    if (!body.isEmpty()) {
      Object o=null;
      try {
        o=invoke(resource,body);
      }
 catch (      IOException e) {
        logger.error("",e);
      }
      if (o != null) {
        resource.getBroadcaster().broadcast(o);
      }
    }
 else {
      logger.warn("{} received an empty body",ManagedServiceInterceptor.class.getSimpleName());
    }
  }
 else   if (method.equalsIgnoreCase("delete")) {
    invoke(onDeleteMethod,resource);
  }
 else   if (method.equalsIgnoreCase("put")) {
    invoke(onPutMethod,resource);
  }
}
