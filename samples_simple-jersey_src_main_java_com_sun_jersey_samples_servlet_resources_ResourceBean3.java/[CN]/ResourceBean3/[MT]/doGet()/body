{
  MultivaluedMap<String,String> params=uriInfo.getPathParameters();
  String arg1=params.getFirst("arg1");
  String arg2=params.getFirst("arg2");
  for (  String key : uriInfo.getQueryParameters().keySet())   System.out.println("key: " + key + " value: "+ uriInfo.getQueryParameters().getFirst(key));
  int rep=Integer.parseInt(uriInfo.getQueryParameters().getFirst("rep"));
  String help="<pre>Received args: arg1: " + arg1 + " arg2: "+ arg2+ "\n"+ "Please specify a \"rep\" queryParameter using one of the following values\n"+ "For example, http://localhost:/rest/test2/arg1/arg2?rep=1\n"+ "Valid Representations:\n"+ "\t0 - StringRepresentation of this message\n"+ "\t1 - StringRepresentation\n"+ "\t2 - FormURLEncodedRepresentation\n"+ "\t3 - DataSourceRepresentation\n</pre>";
  Response r=null;
  System.out.println("rep: " + rep);
switch (rep) {
case 0:
    r=Response.ok(help,"text/plain").header("resource3-header","text/plain").build();
  break;
case 1:
r=Response.ok(getStringRep(arg1,arg2),"text/plain").header("resource3-header","text/plain").build();
break;
case 2:
r=Response.ok(getFormURLEncodedRep(arg1,arg2),"application/x-www-form-urlencoded").header("resource3-header","application/x-www-form-urlencoded").build();
break;
case 3:
r=Response.ok(getImageRep(),"image/jpg").header("resource3-header","image/jpg").build();
break;
default :
r=Response.ok(help,"text/plain").build();
break;
}
return r;
}
