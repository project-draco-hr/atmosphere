{
  for (  Field field : fields) {
    if (field.isAnnotationPresent(Inject.class)) {
      for (      Injectable c : injectable) {
        if (c.supportedType(field.getType())) {
          if (InjectIntrospector.class.isAssignableFrom(c.getClass())) {
            InjectIntrospector.class.cast(c).introspectField(field);
          }
          try {
            field.setAccessible(true);
            framework.getAtmosphereConfig().properties().put(INSTANCE_BEING_INJECTED,instance);
            Object o=c.injectable(framework.getAtmosphereConfig());
            if (o == null) {
              pushBackInjection.addFirst(instance);
              continue;
            }
            if (field.getType().equals(Boolean.TYPE)) {
              field.setBoolean(instance,Boolean.class.cast(o).booleanValue());
            }
 else {
              field.set(instance,o);
            }
          }
 catch (          Exception ex) {
            logger.warn("Injectable {} failed to inject",c,ex);
          }
 finally {
            field.setAccessible(false);
            framework.getAtmosphereConfig().properties().remove(INSTANCE_BEING_INJECTED);
          }
          break;
        }
      }
    }
  }
}
