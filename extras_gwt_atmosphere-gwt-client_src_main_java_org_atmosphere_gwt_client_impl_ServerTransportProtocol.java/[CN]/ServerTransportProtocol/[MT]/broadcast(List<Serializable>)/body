{
  StringBuilder packet=new StringBuilder();
  for (  Serializable message : messages) {
    if (message instanceof String) {
      packet.append(pack(MessageType.STRING,ActionType.BROADCAST,message.toString()));
    }
 else {
      try {
        packet.append(pack(MessageType.OBJECT,ActionType.BROADCAST,serialize(message)));
      }
 catch (      SerializationException ex) {
        logger.log(Level.SEVERE,"Failed to serialize message",ex);
      }
    }
  }
  if (packet.length() > 0) {
    send(packet.toString(),defaultCallback);
  }
}
