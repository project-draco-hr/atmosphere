{
  ServletContext sc=framework.getServletContext();
  Map<Class<? extends Annotation>,Set<Class<?>>> annotations=(Map<Class<? extends Annotation>,Set<Class<?>>>)sc.getAttribute(ANNOTATION_ATTRIBUTE);
  if (annotations == null || annotations.isEmpty()) {
    delegate=new BytecodeBasedAnnotationProcessor();
  }
 else {
    delegate=new ServletContainerInitializerAnnotationProcessor(annotations,framework);
  }
  delegate.configure(framework);
  return this;
}
