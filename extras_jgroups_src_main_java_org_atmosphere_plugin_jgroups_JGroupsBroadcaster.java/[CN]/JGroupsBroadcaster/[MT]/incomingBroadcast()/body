{
  try {
    logger.info("Starting Atmosphere JGroups Clustering support with group name {}",getID());
    jchannel=new JChannel();
    jchannel.setReceiver(new ReceiverAdapter(){
      /** 
 * {@inheritDoc} 
 */
      @Override public void receive(      final Message message){
        final Object msg=message.getObject();
        if (msg != null && BroadcastMessage.class.isAssignableFrom(msg.getClass())) {
          BroadcastMessage b=BroadcastMessage.class.cast(msg);
          if (b.getTopicId().equalsIgnoreCase(getID())) {
            broadcastReceivedMessage(b.getMessage());
          }
        }
      }
    }
);
    jchannel.connect(getID());
  }
 catch (  Throwable t) {
    logger.warn("failed to connect to JGroups channel",t);
  }
 finally {
    ready.countDown();
  }
}
