{
  if (jsonSerializer == null) {
    ServiceLoader<JSONSerializerProvider> loader=ServiceLoader.load(JSONSerializerProvider.class,getClass().getClassLoader());
    if (loader != null && loader.iterator().hasNext()) {
      jsonSerializer=loader.iterator().next().getSerializer();
    }
    if (jsonSerializer == null) {
      jsonSerializer=new JSONSerializer(){
        @Override public String serialize(        Object data){
          return "{\"data\": \"" + data.toString().replaceAll("\n","\\n").replaceAll("\"","\\\"").replaceAll("'","\\'") + "\"}";
        }
      }
;
    }
  }
  return jsonSerializer;
}
