{
  if (!r.uuid().equals("0") && !Utils.webSocketMessage(r) && !Utils.pollableTransport(r.transport())) {
    if (!trackedUUID.add(r.uuid())) {
      logger.trace("Blocking {} from suspend",r.uuid());
      AtmosphereResourceImpl.class.cast(r).disableSuspendEvent(true);
    }
    r.addEventListener(new OnDisconnect(){
      @Override public void onDisconnect(      AtmosphereResourceEvent event){
        logger.trace("Untracking {}",r.uuid());
        trackedUUID.remove(r.uuid());
      }
      @Override public void onResume(      AtmosphereResourceEvent event){
        onDisconnect(event);
      }
      @Override public void onClose(      AtmosphereResourceEvent event){
        onDisconnect(event);
      }
    }
);
  }
  return Action.CONTINUE;
}
