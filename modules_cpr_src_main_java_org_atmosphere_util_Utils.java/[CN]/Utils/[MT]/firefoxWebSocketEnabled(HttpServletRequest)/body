{
  return webSocketEnabled(request) && request.getHeader(HeaderConfig.X_ATMO_PROTOCOL) != null && request.getHeader(HeaderConfig.X_ATMO_PROTOCOL).equals("true") && request.getHeader("User-Agent") != null && request.getHeader("User-Agent").toLowerCase().indexOf("Firefox") != -1;
}
