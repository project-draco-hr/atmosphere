{
  if (r.getRequest().getMethod().equalsIgnoreCase("POST")) {
    StringBuilder stringBuilder=new StringBuilder();
    BufferedReader bufferedReader=null;
    try {
      try {
        InputStream inputStream=r.getRequest().getInputStream();
        if (inputStream != null) {
          bufferedReader=new BufferedReader(new InputStreamReader(inputStream));
        }
      }
 catch (      IllegalStateException ex) {
        logger.trace("",ex);
        Reader reader=r.getRequest().getReader();
        if (reader != null) {
          bufferedReader=new BufferedReader(reader);
        }
      }
      if (bufferedReader != null) {
        char[] charBuffer=new char[8192];
        int bytesRead=-1;
        while ((bytesRead=bufferedReader.read(charBuffer)) > 0) {
          stringBuilder.append(charBuffer,0,bytesRead);
        }
      }
 else {
        stringBuilder.append("");
      }
    }
 catch (    IOException ex) {
      logger.warn("",ex);
    }
 finally {
      if (bufferedReader != null) {
        try {
          bufferedReader.close();
        }
 catch (        IOException ex) {
          logger.warn("",ex);
        }
      }
    }
    if (stringBuilder.length() > 0) {
      r.getBroadcaster().broadcast(stringBuilder.toString());
    }
 else {
      logger.warn("{} received an empty body",BroadcastOnPostAtmosphereInterceptor.class.getSimpleName());
    }
  }
}
