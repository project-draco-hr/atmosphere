{
  super.onClose(w,df);
  logger.trace("onClose {} ",w);
  DefaultWebSocket webSocket=DefaultWebSocket.class.cast(w);
  if (webSocket.getRequest().getAttribute("grizzly.webSocketProcessor") != null) {
    WebSocketProcessor webSocketProcessor=(WebSocketProcessor)webSocket.getRequest().getAttribute("grizzly.webSocketProcessor");
    webSocketProcessor.close(1000);
  }
}
