{
  final Object msg=message.getObject();
  if (message.getSrc() != jchannel.getLocalAddress()) {
    if (msg != null) {
      if (msg != null && JGroupsBroadcaster.BroadcastMessage.class.isAssignableFrom(msg.getClass())) {
        receivedMessages.offer(msg);
        JGroupsBroadcaster.BroadcastMessage b=JGroupsBroadcaster.BroadcastMessage.class.cast(msg);
        if (b.getTopicId().equalsIgnoreCase(bc.getID())) {
          bc.broadcast(b.getMessage());
        }
      }
    }
  }
}
