{
  if (webSocketProcessor == null)   return;
  logger.trace("onClose {}",closeCode);
  try {
    webSocketProcessor.close(webSocket,closeCode);
  }
  finally {
    request.destroy();
  }
}
