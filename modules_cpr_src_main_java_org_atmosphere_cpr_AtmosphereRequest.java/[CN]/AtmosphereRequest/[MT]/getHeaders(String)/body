{
  ArrayList list=Collections.list(super.getHeaders(name));
  if (name.equalsIgnoreCase("content-type")) {
    list.add(contentType);
  }
  if (headers.get(name) != null) {
    list.add(headers.get(name));
  }
  if (b.request != null) {
    if (list.size() == 0 && name.startsWith(X_ATMOSPHERE)) {
      if (b.request.getAttribute(name) != null) {
        list.add(b.request.getAttribute(name));
      }
    }
  }
  return Collections.enumeration(list);
}
