{
  super(b.request == null ? new NoOpsRequest() : b.request);
  pathInfo=b.pathInfo == "" ? b.request.getPathInfo() : b.pathInfo;
  session=b.request == null ? new FakeHttpSession("",null,System.currentTimeMillis()) : b.request.getSession();
  if (b.inputStream == null) {
    if (b.dataBytes != null) {
      configureStream(b.dataBytes,b.offset,b.length,b.encoding);
    }
 else     if (b.data != null) {
      byte[] b2=b.data.getBytes();
      configureStream(b2,0,b2.length,"UTF-8");
    }
  }
 else {
    bis=new IS(b.inputStream);
    br=new BufferedReader(new InputStreamReader(b.inputStream));
  }
  methodType=b.methodType == null ? (b.request != null ? b.request.getMethod() : "GET") : b.methodType;
  this.b=b;
}
