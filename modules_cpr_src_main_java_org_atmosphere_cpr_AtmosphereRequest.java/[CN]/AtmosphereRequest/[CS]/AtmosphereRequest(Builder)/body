{
  session=b.request == null ? new FakeHttpSession("",null,System.currentTimeMillis(),-1) : b.session != null ? b.session : b.request.getSession();
  if (b.inputStream == null) {
    if (b.dataBytes != null) {
      configureStream(b.dataBytes,b.offset,b.length,b.encoding);
    }
 else     if (b.data != null) {
      byte[] b2=b.data.getBytes();
      configureStream(b2,0,b2.length,"UTF-8");
    }
  }
 else {
    bis=new IS(b.inputStream);
    br=new BufferedReader(new InputStreamReader(b.inputStream));
  }
  if (b.request == null)   b.request(new NoOpsRequest());
  this.b=b;
}
