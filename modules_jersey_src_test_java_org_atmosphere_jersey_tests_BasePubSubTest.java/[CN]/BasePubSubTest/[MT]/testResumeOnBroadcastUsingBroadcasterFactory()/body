{
  logger.info("{}: running test: testResumeOnBroadcast",getClass().getSimpleName());
  AsyncHttpClient c=new AsyncHttpClient();
  long t1=System.currentTimeMillis();
  try {
    Response r=c.prepareGet(urlTarget + "/subscribeAndUsingExternalThread").execute().get();
    assertNotNull(r);
    assertEquals(r.getStatusCode(),200);
    long current=System.currentTimeMillis() - t1;
    assertTrue(current > 5000 && current < 10000);
  }
 catch (  Exception e) {
    logger.error("test failed",e);
    fail(e.getMessage());
  }
  c.close();
}
