{
  BroadcastAction transformed=new BroadcastAction(message);
  for (  PerRequestBroadcastFilter mf : perRequestFilters) {
synchronized (mf) {
      transformed=mf.filter(r,originalMessage,transformed.message());
      if (transformed == null || transformed.action() == BroadcastAction.ACTION.ABORT || transformed.action() == BroadcastAction.ACTION.SKIP) {
        return transformed;
      }
    }
  }
  return transformed;
}
