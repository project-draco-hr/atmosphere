{
  super.action(r);
  if (r.isResumed() && r.getRequest(false).getAttribute(ASYNCHRONOUS_HOOK) != null) {
    if (r.getRequest(false).getAttribute(CHANNEL) == null)     return;
    try {
      ((AsyncIOWriter)r.getRequest(false).getAttribute(CHANNEL)).close(r.getResponse(false));
    }
 catch (    IOException e) {
      logger.trace("",e);
    }
  }
}
