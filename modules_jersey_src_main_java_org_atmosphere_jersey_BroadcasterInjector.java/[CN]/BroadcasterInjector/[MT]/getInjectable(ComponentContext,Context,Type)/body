{
  if (c instanceof Class) {
    Class _c=(Class)c;
    if (Broadcaster.class.isAssignableFrom(_c)) {
      return new Injectable<Broadcaster>(){
        /** 
 * Return the current {@link Broadcaster}
 */
        public Broadcaster getValue(){
          AtmosphereResource r=null;
          if ((Boolean)req.getAttribute(AtmosphereServlet.SUPPORT_SESSION)) {
            r=(AtmosphereResource)req.getSession().getAttribute(AtmosphereFilter.SUSPENDED_RESOURCE);
          }
          if (r == null) {
            r=(AtmosphereResource)req.getAttribute(AtmosphereServlet.ATMOSPHERE_RESOURCE);
          }
          if (r != null) {
            return r.getBroadcaster();
          }
 else {
            return null;
          }
        }
      }
;
    }
  }
  return null;
}
