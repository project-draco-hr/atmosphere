{
  if (message == null) {
    AtmosphereResourceEvent e=r.getAtmosphereResourceEvent();
    logger.trace("Cached message is null for {}, but event was {}",r.uuid(),e == null ? "null" : e.getMessage());
    return this;
  }
  String clientId=uuid(r);
  ClientQueue clientQueue;
  clientQueue=messages.get(clientId);
  if (clientQueue != null) {
    logger.trace("Removing for AtmosphereResource {} cached message {}",r.uuid(),message.getMessage());
    notifyRemoveCache(broadcasterId,message);
    clientQueue.getQueue().remove(message);
  }
  return this;
}
