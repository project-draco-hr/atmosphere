{
  List<Object> result=new ArrayList<Object>();
  ClientQueue clientQueue;
  cacheCandidate(broadcasterId,uuid);
  clientQueue=messages.remove(uuid);
  ConcurrentLinkedQueue<CacheMessage> clientMessages;
  if (clientQueue != null) {
    clientMessages=clientQueue.getQueue();
    for (    CacheMessage cacheMessage : clientMessages) {
      result.add(cacheMessage.getMessage());
    }
  }
  if (logger.isTraceEnabled()) {
    logger.trace("Retrieved for AtmosphereResource {} cached messages {}",uuid,result);
    logger.trace("Available cached message {}",messages);
  }
  return result;
}
