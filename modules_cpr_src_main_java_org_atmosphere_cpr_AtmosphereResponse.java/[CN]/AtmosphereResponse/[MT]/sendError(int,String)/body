{
  if (!delegateToNativeResponse) {
    setStatus(sc,msg);
    asyncIOWriter.writeError(this,sc,msg);
  }
 else {
    if (!_r().isCommitted()) {
      _r().sendError(sc,msg);
    }
 else {
      logger.trace("Committed");
    }
  }
}
