{
  if (client != null) {
    if (author != null) {
      client.broadcast(new Event(author,MESSAGE_LEFT_ROOM));
    }
    client.stop();
    client=null;
  }
  author=null;
  Scheduler.get().scheduleDeferred(new Scheduler.ScheduledCommand(){
    @Override public void execute(){
      room=newRoom;
      client=new AtmosphereClient(getUrl(),serializer,cometListener);
      clearChat();
      label.setText(LABEL_ENTER_ROOM);
      client.start();
    }
  }
);
}
