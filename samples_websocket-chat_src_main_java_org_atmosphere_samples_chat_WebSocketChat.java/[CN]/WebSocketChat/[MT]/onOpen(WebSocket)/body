{
  webSocket.resource().addEventListener(new WebSocketEventListenerAdapter(){
    @Override public void onDisconnect(    AtmosphereResourceEvent event){
      if (event.isCancelled()) {
        logger.info("Browser {} unexpectedly disconnected",event.getResource().uuid());
      }
 else       if (event.isClosedByClient()) {
        logger.info("Browser {} closed the connection",event.getResource().uuid());
      }
    }
  }
);
}
