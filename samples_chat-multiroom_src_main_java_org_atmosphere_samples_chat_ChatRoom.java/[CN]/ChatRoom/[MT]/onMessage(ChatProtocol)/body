{
  if (!users.containsKey(message.getAuthor())) {
    users.put(message.getAuthor(),message.getUuid());
    return new ChatProtocol(message.getAuthor()," entered room " + chatroomName,users.keySet(),factory.lookupAll());
  }
  if (message.getMessage().contains("disconnecting")) {
    users.remove(message.getAuthor());
    return new ChatProtocol(message.getAuthor()," disconnected from room " + chatroomName,users.keySet(),factory.lookupAll());
  }
  message.setUsers(users.keySet());
  logger.info("{} just send {}",message.getAuthor(),message.getMessage());
  return new ChatProtocol(message.getAuthor(),message.getMessage(),users.keySet(),factory.lookupAll());
}
