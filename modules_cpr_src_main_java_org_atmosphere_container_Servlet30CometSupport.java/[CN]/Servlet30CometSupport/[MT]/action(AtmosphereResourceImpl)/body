{
  super.action(actionEvent);
  if (actionEvent.action().type() == Action.TYPE.RESUME && actionEvent.isInScope()) {
    AsyncContext asyncContext=(AsyncContext)actionEvent.getRequest().getAttribute("org.atmosphere.container.asyncContext");
    if (asyncContext == null && supportSession()) {
      asyncContext=(AsyncContext)actionEvent.getRequest().getSession().getAttribute("org.atmosphere.container.asyncContext");
    }
    if (asyncContext != null && (config.getInitParameter(ApplicationConfig.RESUME_AND_KEEPALIVE) == null || config.getInitParameter(ApplicationConfig.RESUME_AND_KEEPALIVE).equalsIgnoreCase("false"))) {
      try {
        asyncContext.complete();
      }
 catch (      IllegalStateException ex) {
        logger.trace("Already resumed!",ex);
      }
    }
  }
 else {
    if (!actionEvent.isInScope()) {
      logger.trace("Already resumed or cancelled: event: {}",actionEvent);
    }
  }
}
