{
  logger.trace("onTimeout(): event: {}",event.getAsyncContext().getRequest());
  if (p == null) {
    logger.error("Invalid state - CometListener");
    return;
  }
  try {
    p.timedout((AtmosphereRequest)event.getAsyncContext().getRequest(),(AtmosphereResponse)event.getAsyncContext().getResponse());
  }
 catch (  ServletException ex) {
    logger.warn("onTimeout(): failed timing out comet response: " + event.getAsyncContext().getResponse(),ex);
  }
 finally {
    event.getAsyncContext().complete();
  }
}
