{
  try {
    removeEventListeners();
    if (!isCancelled.get()) {
      try {
        getBroadcaster(false).removeAtmosphereResource(this);
      }
 catch (      IllegalStateException ex) {
        logger.trace(ex.getMessage(),ex);
      }
      if (config.getBroadcasterFactory().getDefault() != null) {
        config.getBroadcasterFactory().getDefault().removeAllAtmosphereResource(this);
      }
    }
  }
 catch (  Throwable t) {
    logger.trace("destroyResource",t);
  }
}
