{
  action.type(Action.TYPE.RESUME);
  isCancelled=true;
  if (asyncSupport instanceof AsynchronousProcessor) {
    try {
      AsynchronousProcessor.class.cast(asyncSupport).resumed(req,response);
    }
 catch (    ServletException e) {
      logger.trace("",e);
    }
  }
  asyncSupport.action(this);
  if (AtmosphereResponse.class.isAssignableFrom(response.getClass())) {
    AtmosphereResponse.class.cast(response).close();
    AtmosphereResponse.class.cast(response).destroy();
  }
  if (AtmosphereRequest.class.isAssignableFrom(req.getClass())) {
    AtmosphereRequest.class.cast(req).destroy();
  }
  if (broadcaster != null) {
    broadcaster.removeAtmosphereResource(this);
  }
  event.destroy();
}
