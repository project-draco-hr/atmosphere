{
  if (!event.isResuming() && !event.isResumedOnTimeout() && event.isSuspended()&& isInScope) {
    action.type=AtmosphereServlet.Action.TYPE.RESUME;
    Broadcaster b=getBroadcaster();
    if (b instanceof DefaultBroadcaster) {
      ((DefaultBroadcaster)b).broadcastOnResume(this);
    }
    notifyListeners();
    listeners.clear();
    broadcaster.removeAtmosphereResource(this);
    try {
      req.setAttribute(AtmosphereServlet.RESUMED_ON_TIMEOUT,Boolean.FALSE);
    }
 catch (    Exception ex) {
      if (LoggerUtils.getLogger().isLoggable(Level.FINE)) {
        LoggerUtils.getLogger().fine("Cannot resume an already resumed/cancelled request ");
      }
    }
    cometSupport.action(this);
  }
 else {
    if (LoggerUtils.getLogger().isLoggable(Level.FINE)) {
      LoggerUtils.getLogger().fine("Cannot resume an already resumed/cancelled request ");
    }
  }
}
