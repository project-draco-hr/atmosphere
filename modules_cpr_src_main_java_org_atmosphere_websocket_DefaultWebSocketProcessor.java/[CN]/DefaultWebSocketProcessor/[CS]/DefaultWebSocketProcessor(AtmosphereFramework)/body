{
  this.framework=framework;
  this.webSocketProtocol=framework.getWebSocketProtocol();
  String s=framework.getAtmosphereConfig().getInitParameter(RECYCLE_ATMOSPHERE_REQUEST_RESPONSE);
  if (s != null && Boolean.valueOf(s)) {
    destroyable=true;
  }
 else {
    destroyable=false;
  }
  s=framework.getAtmosphereConfig().getInitParameter(WEBSOCKET_PROTOCOL_EXECUTION);
  if (s != null && Boolean.valueOf(s)) {
    executeAsync=true;
  }
 else {
    executeAsync=false;
  }
  s=framework.getAtmosphereConfig().getInitParameter(ApplicationConfig.BROADCASTER_SHARABLE_THREAD_POOLS);
  if (s == null && !Boolean.valueOf(s)) {
    shared=true;
  }
  AtmosphereConfig config=framework.getAtmosphereConfig();
  if (executeAsync) {
    asyncExecutor=ExecutorsFactory.getAsyncOperationExecutor(config,"WebSocket");
  }
 else {
    asyncExecutor=VoidExecutorService.VOID;
  }
  scheduler=ExecutorsFactory.getScheduler(config);
}
