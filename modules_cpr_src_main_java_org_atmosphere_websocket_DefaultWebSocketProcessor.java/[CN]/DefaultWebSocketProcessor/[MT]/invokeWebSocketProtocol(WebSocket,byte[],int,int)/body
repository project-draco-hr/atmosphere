{
  List<AtmosphereRequest> list=webSocketProtocol.onMessage(webSocket,data,offset,length);
  dispatch(webSocket,list);
  try {
    notifyListener(webSocket,new WebSocketEventListener.WebSocketEvent(new String(data,offset,length,"UTF-8"),MESSAGE,webSocket));
  }
 catch (  UnsupportedEncodingException e) {
    logger.warn("UnsupportedEncodingException",e);
  }
}
