{
  return new Runnable(){
    public void run(){
      Entry msg=null;
      while (started.get()) {
        try {
          msg=messages.take();
          push(msg);
        }
 catch (        Throwable ex) {
          logger.warn("This message {} will be lost",msg);
          if (!started.get()) {
            logger.trace("failed to submit broadcast handler runnable to broadcast executor service on shutdown",ex);
          }
 else {
            logger.debug("failed to submit broadcast handler runnable to broadcast executor service",ex);
          }
        }
      }
    }
  }
;
}
