{
  Object finalMsg=msg.originalMessage;
  if (r.getRequest() instanceof HttpServletRequest) {
    Object message=msg.originalMessage;
    BroadcastAction a=bc.filter((HttpServletRequest)r.getRequest(),message);
    if (a.action() == BroadcastAction.ACTION.ABORT || msg == null)     finalMsg=message;
 else     finalMsg=a.message();
  }
  trackBroadcastMessage(r,finalMsg);
  return finalMsg;
}
