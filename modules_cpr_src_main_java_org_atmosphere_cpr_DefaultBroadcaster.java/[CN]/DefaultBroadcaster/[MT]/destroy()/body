{
  if (destroyed.get())   return;
  notifyDestroyListener();
  try {
    logger.trace("Broadcaster {} is being destroyed and cannot be re-used",getID());
    if (BroadcasterFactory.getDefault() != null) {
      BroadcasterFactory.getDefault().remove(this,this.getID());
    }
    if (currentLifecycleTask != null) {
      currentLifecycleTask.cancel(true);
    }
    started.set(false);
    destroyed.set(true);
    releaseExternalResources();
    if (notifierFuture != null) {
      notifierFuture.cancel(false);
    }
    if (asyncWriteFuture != null) {
      asyncWriteFuture.cancel(false);
    }
    if (bc != null) {
      bc.destroy();
    }
    if (broadcasterCache != null) {
      broadcasterCache.stop();
    }
    resources.clear();
    broadcastOnResume.clear();
    messages.clear();
    asyncWriteQueue.clear();
    delayedBroadcast.clear();
    broadcasterCache=null;
  }
 catch (  Throwable t) {
    logger.error("Unexpected exception during Broadcaster destroy {}",getID(),t);
  }
}
