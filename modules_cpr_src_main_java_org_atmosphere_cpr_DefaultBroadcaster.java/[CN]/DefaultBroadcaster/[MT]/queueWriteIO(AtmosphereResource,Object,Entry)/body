{
  if (r.isResumed() || r.isCancelled()) {
    trackBroadcastMessage(r,cacheStrategy == BroadcasterCache.STRATEGY.AFTER_FILTER ? finalMsg : entry.originalMessage);
  }
 else {
    asyncWriteQueue.put(new AsyncWriteToken(r,finalMsg,entry.future,entry.originalMessage));
  }
}
