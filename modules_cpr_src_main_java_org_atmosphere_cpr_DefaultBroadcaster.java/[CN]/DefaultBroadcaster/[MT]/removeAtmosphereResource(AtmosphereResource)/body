{
  if (destroyed.get()) {
    logger.debug(DESTROYED,getID());
    return r;
  }
  if (!resources.contains(r)) {
    return null;
  }
  boolean removed=resources.remove(r);
  if (removed) {
    if (resources.isEmpty()) {
      notifyEmptyListener();
      if (scope != SCOPE.REQUEST && lifeCyclePolicy.getLifeCyclePolicy() == EMPTY) {
        releaseExternalResources();
      }
 else       if (lifeCyclePolicy.getLifeCyclePolicy() == EMPTY_DESTROY) {
        notifyDestroyListener();
        BroadcasterFactory.getDefault().remove(this,name);
        destroy();
      }
    }
  }
  return r;
}
