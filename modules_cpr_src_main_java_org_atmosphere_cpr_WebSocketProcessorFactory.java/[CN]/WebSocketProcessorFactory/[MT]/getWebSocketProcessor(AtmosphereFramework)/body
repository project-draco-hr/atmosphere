{
  if (webSocketprocessor == null) {
    String webSocketProcessorName=framework.getWebSocketProcessorClassName();
    if (!webSocketProcessorName.equalsIgnoreCase(DefaultWebSocketProcessor.class.getName())) {
      try {
        webSocketprocessor=(WebSocketProcessor)Thread.currentThread().getContextClassLoader().loadClass(webSocketProcessorName).newInstance();
      }
 catch (      Exception ex) {
        try {
          webSocketprocessor=(WebSocketProcessor)getClass().getClassLoader().loadClass(webSocketProcessorName).newInstance();
        }
 catch (        Exception ex2) {
        }
      }
    }
    if (webSocketprocessor == null) {
      webSocketprocessor=new DefaultWebSocketProcessor(framework);
    }
  }
  return webSocketprocessor;
}
