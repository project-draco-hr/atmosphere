{
  WebSocketProcessor wp=null;
  String webSocketProcessorName=webSocket.config().framework().getWebSocketProcessorClassName();
  if (!webSocketProcessorName.equalsIgnoreCase(DefaultWebSocketProcessor.class.getName())) {
    try {
      wp=(WebSocketProcessor)Thread.currentThread().getContextClassLoader().loadClass(webSocketProcessorName).newInstance();
    }
 catch (    Exception ex) {
      try {
        wp=(WebSocketProcessor)getClass().getClassLoader().loadClass(webSocketProcessorName).newInstance();
      }
 catch (      Exception ex2) {
      }
    }
  }
  if (wp == null) {
    wp=new DefaultWebSocketProcessor(webSocket);
  }
  return wp;
}
