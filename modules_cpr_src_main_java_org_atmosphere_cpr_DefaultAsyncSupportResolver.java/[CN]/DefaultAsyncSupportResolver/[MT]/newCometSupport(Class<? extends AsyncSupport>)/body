{
  try {
    return targetClass.getDeclaredConstructor(new Class[]{AtmosphereConfig.class}).newInstance(config);
  }
 catch (  final Exception e) {
    logger.error("failed to create comet support class: {}, error: {}",targetClass,e.getMessage());
    throw new IllegalArgumentException("Comet support class " + targetClass.getCanonicalName() + " has bad signature.",e);
  }
}
