{
switch (p) {
case AFTER_DEFAULT:
    interceptors.remove(c);
  if (!checkDuplicate(c))   return;
interceptors.addLast(c);
break;
case BEFORE_DEFAULT:
interceptors.remove(c);
if (!checkDuplicate(c)) return;
int pos=executeFirstSet ? 1 : 0;
this.interceptors.add(pos,c);
break;
case FIRST_BEFORE_DEFAULT:
if (executeFirstSet) {
logger.warn("More than one AtmosphereInterceptor are defined to execute before the defaults. {} will be added before {}",c,interceptors.get(0));
}
interceptors.remove(c);
if (!checkDuplicate(c)) return;
logger.info("AtmosphereInterceptor {} will always be executed first",c);
interceptors.addFirst(c);
executeFirstSet=true;
break;
}
}
