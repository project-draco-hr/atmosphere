{
  if (!mapping.startsWith("/")) {
    mapping="/" + mapping;
  }
  AtmosphereHandlerWrapper w=new AtmosphereHandlerWrapper(broadcasterFactory,h,mapping);
  w.interceptors=l;
  addMapping(mapping,w);
  if (isInit) {
    try {
      if (h instanceof AtmosphereServletProcessor) {
        ((AtmosphereServletProcessor)h).init(config);
      }
    }
 catch (    ServletException e) {
      throw new RuntimeException(e);
    }
    initHandlerInterceptors(w);
  }
 else {
    logger.info("Installed AtmosphereHandler {} mapped to context-path: {}",h.getClass().getName(),mapping);
    logger.info("Installed the following AtmosphereInterceptor mapped to AtmosphereHandler {}",h.getClass().getName());
    if (l.size() > 0) {
      for (      AtmosphereInterceptor s : l) {
        logger.info("\t{} : {}",s.getClass().getName(),s);
      }
    }
  }
  return this;
}
