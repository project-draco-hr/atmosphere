{
  List<AtmosphereInterceptor> remove=new ArrayList<AtmosphereInterceptor>();
  if (w.interceptors != null) {
    for (    AtmosphereInterceptor i : w.interceptors) {
      InvokationOrder.PRIORITY p=InvokationOrder.class.isAssignableFrom(i.getClass()) ? InvokationOrder.class.cast(i).priority() : InvokationOrder.AFTER_DEFAULT;
      if (!p.equals(InvokationOrder.AFTER_DEFAULT)) {
        positionInterceptor(p,i);
        remove.add(i);
      }
      InjectorProvider.getInjector().inject(i);
      i.configure(config);
    }
    for (    AtmosphereInterceptor i : remove) {
      w.interceptors.remove(i);
    }
  }
}
