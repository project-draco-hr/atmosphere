{
  File file=new File(realPath);
  if (file.isDirectory()) {
    getFiles(file);
    for (    String className : possibleComponentsCandidate) {
      try {
        className=className.replace('\\','/');
        className=className.replaceFirst("^.*/(WEB-INF|target)/(test-)?classes/(.*)\\.class","$3").replace("/",".");
        Class<?> clazz=classloader.loadClass(className);
        if (WebSocketHandler.class.isAssignableFrom(clazz)) {
          webSocketProtocol=(WebSocketHandler)clazz.newInstance();
          InjectorProvider.getInjector().inject(webSocketProtocol);
          logger.info("Installed WebSocketHandler {}",webSocketProtocol);
        }
      }
 catch (      Throwable t) {
        logger.trace("failed to load class as an WebSocketHandler: " + className,t);
      }
    }
  }
}
