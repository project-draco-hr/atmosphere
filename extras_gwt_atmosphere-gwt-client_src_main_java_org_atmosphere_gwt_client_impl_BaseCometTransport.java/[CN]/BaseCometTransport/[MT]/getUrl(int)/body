{
  String url=client.getUrl();
  if (client.getSerializer() != null) {
    url=addUrlParameter(url,Constants.CLIENT_DESERIALZE_MODE_PARAMETER,client.getSerializer().getMode().name());
    url=addUrlParameter(url,Constants.CLIENT_SERIALZE_MODE_PARAMETER,client.getSerializer().getPushMode().name());
  }
  String className=getClass().getName();
  className=className.substring(className.lastIndexOf('.') + 1);
  String transport=className.substring(0,className.indexOf("CometTransport"));
  return addUrlParameter(url,"t",Integer.toString((int)(Duration.currentTimeMillis() % Integer.MAX_VALUE),Character.MAX_RADIX).toUpperCase() + "&c=" + connectionCount+ "&tr="+ transport);
}
