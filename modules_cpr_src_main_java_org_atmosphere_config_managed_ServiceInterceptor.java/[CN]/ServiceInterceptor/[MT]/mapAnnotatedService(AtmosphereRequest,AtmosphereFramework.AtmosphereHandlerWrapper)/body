{
  Broadcaster b=w.broadcaster;
  String path;
  String pathInfo=null;
  boolean reMap=false;
  try {
    pathInfo=request.getPathInfo();
  }
 catch (  IllegalStateException ex) {
  }
  if (pathInfo != null) {
    path=request.getServletPath() + pathInfo;
  }
 else {
    path=request.getServletPath();
  }
  if (path == null || path.isEmpty()) {
    path="/";
  }
  if (b.getID().contains("{")) {
    reMap=true;
    config.getBroadcasterFactory().remove(b.getID());
  }
  request.localAttributes().put(Named.class.getName(),path);
  mapAnnotatedService(reMap,path,request,w);
}
