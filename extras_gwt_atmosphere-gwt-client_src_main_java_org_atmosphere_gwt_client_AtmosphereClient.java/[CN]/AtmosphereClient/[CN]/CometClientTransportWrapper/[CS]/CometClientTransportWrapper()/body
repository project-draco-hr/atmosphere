{
  if (webSocketsEnabled && WebSocketCometTransport.hasWebSocketSupport()) {
    transport=new WebSocketCometTransport();
  }
 else {
    transport=GWT.create(CometTransport.class);
  }
  logger.info("Created transport: " + transport.getClass().getName());
  transport.initiate(AtmosphereClient.this,this);
}
