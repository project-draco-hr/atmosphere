{
  heartbeatTimeout=heartbeat + connectionTimeout;
  lastReceivedTime=Duration.currentTimeMillis();
  this.connectionID=connectionID;
  if (transport instanceof WebSocketCometTransport) {
    webSocketSuccessful=true;
  }
  reconnectionTimer.cancel();
  reconnectionCounter=1;
  connectionTimer.cancel();
  heartbeatTimer.schedule(heartbeatTimeout);
  doOnConnected(heartbeat,connectionID,this);
}
