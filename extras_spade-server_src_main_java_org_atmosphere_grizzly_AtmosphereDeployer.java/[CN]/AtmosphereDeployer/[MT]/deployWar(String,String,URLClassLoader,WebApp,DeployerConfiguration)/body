{
  String ctx=context;
  if (ctx == null) {
    ctx=getContext(location);
    int i=ctx.lastIndexOf('.');
    if (i > 0) {
      ctx=ctx.substring(0,i);
    }
  }
  WarDeploymentConfiguration config=new WarDeploymentConfiguration(ctx,serverLibLoader,defaultWebApp,conf);
  if (logger.isLoggable(Level.FINER)) {
    logger.log(Level.FINER,String.format("Configuration for deployment: %s.",config));
  }
  deployer.deploy(ws,new File(location).toURI(),config);
}
