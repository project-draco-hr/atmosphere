{
  logger.trace("WebSocket.onOpen.");
  try {
    webSocketProcessor=WebSocketProcessorFactory.getDefault().newWebSocketProcessor(new Jetty8WebSocket(connection,framework.getAtmosphereConfig()));
    webSocketProcessor.open(request);
    webSocketProcessor.notifyListener(new WebSocketEventListener.WebSocketEvent("",CONNECT,webSocketProcessor.webSocket()));
  }
 catch (  Exception e) {
    logger.warn("failed to connect to web socket",e);
  }
}
